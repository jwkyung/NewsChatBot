# GitHub 및 Vercel 업데이트 체크리스트

## ✅ 준비 완료된 파일들

### 새로 추가된 파일
- [x] `prisma/schema.prisma` - PostgreSQL 설정 완료
- [x] `lib/prisma.ts` - Prisma 클라이언트
- [x] `app/api/searches/route.ts` - 검색 기록 조회 API
- [x] `app/api/searches/[id]/route.ts` - 특정 검색 기록 조회/삭제
- [x] `DATABASE_SETUP.md` - 데이터베이스 설정 가이드
- [x] `VERCEL_DATABASE.md` - Vercel 데이터베이스 설정
- [x] `README_DATABASE.md` - 데이터베이스 기능 설명
- [x] `UPDATE_TO_GITHUB.md` - 업데이트 가이드
- [x] `업데이트_체크리스트.md` - 이 파일

### 수정된 파일
- [x] `package.json` - Prisma 의존성 및 빌드 스크립트 추가
- [x] `app/api/news/route.ts` - DB 저장 기능 추가
- [x] `app/page.tsx` - 검색 기록 UI 추가
- [x] `app/page.module.css` - 검색 기록 스타일 추가
- [x] `README.md` - 데이터베이스 기능 설명 추가
- [x] `.env.example` - DATABASE_URL 추가
- [x] `.gitignore` - 데이터베이스 파일 제외

---

## 🚀 업데이트 단계

### 1단계: GitHub에 업로드

**방법 선택:**
- [ ] GitHub Desktop 사용 (추천)
- [ ] GitHub 웹사이트에서 직접 업로드
- [ ] Git 명령어 사용

**체크:**
- [ ] 모든 파일이 `github-upload` 폴더에 있는지 확인
- [ ] `.env.local` 파일이 포함되지 않았는지 확인
- [ ] `*.db` 파일이 포함되지 않았는지 확인
- [ ] GitHub에 푸시 완료

### 2단계: Vercel Postgres 생성

**필수 작업:**
- [ ] Vercel 대시보드 접속
- [ ] 프로젝트 `news-chat-bot` 선택
- [ ] **Storage** 탭 클릭
- [ ] **Create Database** → **Postgres** 선택
- [ ] 데이터베이스 생성 완료
- [ ] `POSTGRES_PRISMA_URL` 환경변수 자동 추가 확인

### 3단계: 환경변수 확인

**Vercel Settings → Environment Variables:**
- [ ] `GEMINI_API_KEY` 확인
- [ ] `POSTGRES_PRISMA_URL` 확인 (Postgres 생성 시 자동 추가)

### 4단계: 배포 확인

**Vercel 대시보드:**
- [ ] GitHub 푸시 후 자동 배포 시작 확인
- [ ] 배포 로그에서 오류 없음 확인
- [ ] 배포 완료 확인
- [ ] 배포된 사이트 접속 테스트

### 5단계: 기능 테스트

**배포된 사이트에서:**
- [ ] 뉴스 검색 기능 테스트
- [ ] 검색 기록이 저장되는지 확인
- [ ] "검색 기록" 버튼 클릭 테스트
- [ ] 이전 검색 내역 불러오기 테스트
- [ ] 챗봇 기능 정상 작동 확인

---

## ⚠️ 주의사항

1. **Vercel Postgres 필수**: SQLite는 Vercel에서 작동하지 않습니다
2. **환경변수 확인**: `POSTGRES_PRISMA_URL`이 자동으로 추가되었는지 확인
3. **빌드 시간**: Prisma generate로 인해 빌드 시간이 약간 늘어날 수 있습니다

---

## 📞 문제 발생 시

1. **빌드 실패**: Vercel 배포 로그 확인
2. **데이터베이스 오류**: `POSTGRES_PRISMA_URL` 환경변수 확인
3. **Prisma 오류**: `package.json`의 `postinstall` 스크립트 확인

자세한 내용은 `UPDATE_TO_GITHUB.md` 참고
