# 환경변수 설정 완료 후 단계

## ✅ 현재 완료된 작업
- [x] `GEMINI_API_KEY` 환경변수 추가 완료
- [x] `POSTGRES_PRISMA_URL` 환경변수 추가 완료

---

## 📋 다음 단계

### 1단계: GitHub에 코드 푸시 확인

**확인:**
- https://github.com/jwkyung/NewsChatBot 접속
- 최신 코드가 업로드되어 있는지 확인

**아직 업로드하지 않았다면:**

#### 방법 1: GitHub Desktop 사용 (가장 쉬움)

1. **GitHub Desktop 실행**
2. **File → Add Local Repository** 클릭
3. **폴더 선택:**
   ```
   C:\Users\SD2-20\Desktop\chatbot\github-upload
   ```
4. **변경사항 확인:**
   - 왼쪽에서 변경된 파일들 확인
   - 새로 추가된 파일들 확인
5. **Summary 입력:**
   ```
   데이터베이스 기능 추가: 검색 기록 저장 및 조회
   ```
6. **"Commit to main" 버튼 클릭**
7. **상단 메뉴에서 "Push origin" 버튼 클릭**

#### 방법 2: GitHub 웹사이트에서 직접 업로드

1. https://github.com/jwkyung/NewsChatBot 접속
2. **"Add file" → "Upload files" 클릭**
3. `C:\Users\SD2-20\Desktop\chatbot\github-upload` 폴더의 모든 파일 드래그 앤 드롭
4. **"Commit changes" 메시지 입력:**
   ```
   데이터베이스 기능 추가: 검색 기록 저장 및 조회
   ```
5. **"Commit changes" 버튼 클릭**

---

### 2단계: Vercel 자동 배포 확인

**GitHub에 푸시하면 Vercel이 자동으로 배포를 시작합니다!**

1. **Vercel 대시보드 접속**
2. **"Deployments" 탭 클릭**
3. **배포 상태 확인:**
   - ✅ **Ready** (초록색) = 배포 성공
   - ⏳ **Building** (노란색) = 배포 중 (2-5분 소요)
   - ❌ **Error** (빨간색) = 오류 발생

**배포 중일 때:**
- "Building" 상태면 잠시 기다리세요 (보통 2-5분)
- 진행 상황을 실시간으로 볼 수 있습니다

---

### 3단계: 배포 로그 확인 (오류 시)

**배포가 실패하면:**

1. **Deployments → 최신 배포 클릭**
2. **"Logs" 탭 확인**
3. **오류 메시지 확인:**
   - "Prisma Client has not been generated" → 정상 (자동 생성됨)
   - "Database connection failed" → `POSTGRES_PRISMA_URL` 확인
   - "GEMINI_API_KEY not found" → 환경변수 다시 확인

**일반적인 오류 해결:**
- 환경변수 오류 → Settings → Environment Variables에서 다시 확인
- 빌드 오류 → GitHub에 모든 파일이 업로드되었는지 확인

---

### 4단계: 배포 완료 후 테스트

**배포가 성공하면:**

1. **배포된 URL 확인**
   - Vercel 대시보드에서 배포된 사이트 URL 확인
   - 또는: https://news-chat-bot-two.vercel.app 접속

2. **기능 테스트:**
   - ✅ **뉴스 검색 테스트**
     - 키워드 입력 (예: "인공지능")
     - 검색 버튼 클릭
     - 뉴스 10개가 표시되는지 확인
   
   - ✅ **검색 기록 테스트**
     - "검색 기록" 버튼 클릭
     - 이전 검색 내역이 표시되는지 확인
     - 검색 기록 클릭하여 다시 불러오기 테스트
   
   - ✅ **챗봇 기능 테스트**
     - 뉴스 검색 후
     - 챗봇에 질문 입력
     - AI 응답이 정상적으로 나오는지 확인

---

## 🔧 문제 해결

### 배포가 자동으로 시작되지 않아요

**해결:**
1. GitHub에 푸시했는지 확인
2. Vercel과 GitHub 저장소가 연결되어 있는지 확인
3. 수동으로 재배포:
   - Deployments → 최신 배포 → "Redeploy" 클릭

### 배포가 실패해요

**확인 사항:**
1. Environment Variables에 두 개 모두 있는지 확인
   - `GEMINI_API_KEY`
   - `POSTGRES_PRISMA_URL`
2. GitHub에 모든 파일이 업로드되었는지 확인
3. 배포 로그에서 구체적인 오류 메시지 확인

### 사이트가 작동하지 않아요

**확인 사항:**
1. 배포가 완료되었는지 확인 (Ready 상태)
2. 브라우저 콘솔에서 오류 확인 (F12)
3. 뉴스 검색이 작동하는지 확인
4. 데이터베이스 연결 오류인지 확인

---

## ✅ 완료 체크리스트

- [x] `GEMINI_API_KEY` 환경변수 추가 완료
- [x] `POSTGRES_PRISMA_URL` 환경변수 추가 완료
- [ ] GitHub에 코드 푸시 완료
- [ ] Vercel 자동 배포 시작됨
- [ ] 배포 성공 (Ready 상태)
- [ ] 배포된 사이트에서 기능 테스트 완료

---

## 🎉 완료!

모든 단계를 완료하면 뉴스 챗봇이 정상적으로 작동합니다!

**다음 단계:**
1. GitHub에 코드 푸시
2. Vercel 배포 확인
3. 사이트 테스트

어느 단계에서 진행 중인지 알려주세요!
